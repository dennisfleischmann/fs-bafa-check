services:
  - type: web
    name: ai-bafa-check
    runtime: python
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: gunicorn webapp.app:app --bind 0.0.0.0:$PORT --workers 1 --threads 4 --timeout 300
    envVars:
      - key: OPENAI_API_KEY
        sync: false
      - key: OPENAI_MODEL
        value: gpt-4o
      - key: BAFA_SOURCE_MODE
        value: bafa
      - key: BAFA_SEMANTIC_USE_EMBEDDINGS
        value: "false"
      - key: OPENAI_PLAUSIBILITY_MODEL
        value: gpt-5.2
      - key: EVALUATIONS_DB_PATH
        value: /tmp/webapp_evaluations.db
